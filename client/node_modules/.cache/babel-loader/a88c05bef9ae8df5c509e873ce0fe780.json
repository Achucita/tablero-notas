{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\beren\\\\tablero-notas\\\\client\\\\src\\\\pages\\\\AvisosPage.js\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport AvisoCard from \"../components/AvisoCard\";\nimport { FaPlus } from \"react-icons/fa\";\nimport \"./Page.css\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:3001/api\";\nconst AvisosPage = () => {\n  const [avisos, setAvisos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetchAvisos();\n  }, []);\n  const fetchAvisos = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`${API_URL}/avisos`);\n      setAvisos(response.data.data);\n      setLoading(false);\n    } catch (error) {\n      setError(\"Error al cargar los avisos. Por favor, intenta de nuevo.\");\n      setLoading(false);\n      console.error(\"Error fetching avisos:\", error);\n    }\n  };\n  const handleDelete = async id => {\n    if (window.confirm(\"¿Estás seguro de que deseas eliminar este aviso?\")) {\n      try {\n        await axios.delete(`${API_URL}/avisos/${id}`);\n        setAvisos(avisos.filter(aviso => aviso.id !== id));\n      } catch (error) {\n        setError(\"Error al eliminar el aviso. Por favor, intenta de nuevo.\");\n        console.error(\"Error deleting aviso:\", error);\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Avisos\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/avisos/nuevo\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FaPlus, {\n    className: \"icon-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }), \" Nuevo Aviso\")), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, error), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Cargando avisos...\") : avisos.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"empty-state\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"No hay avisos disponibles. \\xA1Crea tu primer aviso!\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/avisos/nuevo\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FaPlus, {\n    className: \"icon-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), \" Nuevo Aviso\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, avisos.map(aviso => /*#__PURE__*/React.createElement(AvisoCard, {\n    key: aviso.id,\n    aviso: aviso,\n    onDelete: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }))));\n};\nexport default AvisosPage;","map":{"version":3,"names":["_jsxFileName","useState","useEffect","Link","axios","AvisoCard","FaPlus","API_URL","process","env","REACT_APP_API_URL","AvisosPage","avisos","setAvisos","loading","setLoading","error","setError","fetchAvisos","response","get","data","console","handleDelete","id","window","confirm","delete","filter","aviso","React","createElement","className","__self","__source","fileName","lineNumber","columnNumber","to","length","map","key","onDelete"],"sources":["C:/Users/beren/tablero-notas/client/src/pages/AvisosPage.js"],"sourcesContent":["\n\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\"\nimport AvisoCard from \"../components/AvisoCard\"\nimport { FaPlus } from \"react-icons/fa\"\nimport \"./Page.css\"\n\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:3001/api\"\n\nconst AvisosPage = () => {\n  const [avisos, setAvisos] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    fetchAvisos()\n  }, [])\n\n  const fetchAvisos = async () => {\n    try {\n      setLoading(true)\n      const response = await axios.get(`${API_URL}/avisos`)\n      setAvisos(response.data.data)\n      setLoading(false)\n    } catch (error) {\n      setError(\"Error al cargar los avisos. Por favor, intenta de nuevo.\")\n      setLoading(false)\n      console.error(\"Error fetching avisos:\", error)\n    }\n  }\n\n  const handleDelete = async (id) => {\n    if (window.confirm(\"¿Estás seguro de que deseas eliminar este aviso?\")) {\n      try {\n        await axios.delete(`${API_URL}/avisos/${id}`)\n        setAvisos(avisos.filter((aviso) => aviso.id !== id))\n      } catch (error) {\n        setError(\"Error al eliminar el aviso. Por favor, intenta de nuevo.\")\n        console.error(\"Error deleting aviso:\", error)\n      }\n    }\n  }\n\n  return (\n    <div className=\"page-container\">\n      <div className=\"page-header\">\n        <h1>Avisos</h1>\n        <Link to=\"/avisos/nuevo\" className=\"btn btn-primary\">\n          <FaPlus className=\"icon-left\" /> Nuevo Aviso\n        </Link>\n      </div>\n\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n\n      {loading ? (\n        <div className=\"loading\">Cargando avisos...</div>\n      ) : avisos.length === 0 ? (\n        <div className=\"empty-state\">\n          <p>No hay avisos disponibles. ¡Crea tu primer aviso!</p>\n          <Link to=\"/avisos/nuevo\" className=\"btn btn-primary\">\n            <FaPlus className=\"icon-left\" /> Nuevo Aviso\n          </Link>\n        </div>\n      ) : (\n        <div className=\"grid\">\n          {avisos.map((aviso) => (\n            <AvisoCard key={aviso.id} aviso={aviso} onDelete={handleDelete} />\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default AvisosPage\n"],"mappings":"AACA,YAAY;;AAAA,IAAAA,YAAA;AAEZ,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,SAASC,MAAM,QAAQ,gBAAgB;AACvC,OAAO,YAAY;AAEnB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAE5E,MAAMC,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACdgB,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACFH,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMI,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,GAAGb,OAAO,SAAS,CAAC;MACrDM,SAAS,CAACM,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;MAC7BN,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,QAAQ,CAAC,0DAA0D,CAAC;MACpEF,UAAU,CAAC,KAAK,CAAC;MACjBO,OAAO,CAACN,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD;EACF,CAAC;EAED,MAAMO,YAAY,GAAG,MAAOC,EAAE,IAAK;IACjC,IAAIC,MAAM,CAACC,OAAO,CAAC,kDAAkD,CAAC,EAAE;MACtE,IAAI;QACF,MAAMtB,KAAK,CAACuB,MAAM,CAAC,GAAGpB,OAAO,WAAWiB,EAAE,EAAE,CAAC;QAC7CX,SAAS,CAACD,MAAM,CAACgB,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACL,EAAE,KAAKA,EAAE,CAAC,CAAC;MACtD,CAAC,CAAC,OAAOR,KAAK,EAAE;QACdC,QAAQ,CAAC,0DAA0D,CAAC;QACpEK,OAAO,CAACN,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF;EACF,CAAC;EAED,oBACEc,KAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7BP,KAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1BP,KAAA,CAAAC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,QAAU,CAAC,eACfP,KAAA,CAAAC,aAAA,CAAC5B,IAAI;IAACmC,EAAE,EAAC,eAAe;IAACN,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClDP,KAAA,CAAAC,aAAA,CAACzB,MAAM;IAAC0B,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,gBAC5B,CACH,CAAC,EAELrB,KAAK,iBAAIc,KAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC,oBAAoB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAErB,KAAW,CAAC,EAE1DF,OAAO,gBACNgB,KAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC,SAAS;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAAuB,CAAC,GAC/CzB,MAAM,CAAC2B,MAAM,KAAK,CAAC,gBACrBT,KAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1BP,KAAA,CAAAC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,sDAAoD,CAAC,eACxDP,KAAA,CAAAC,aAAA,CAAC5B,IAAI;IAACmC,EAAE,EAAC,eAAe;IAACN,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClDP,KAAA,CAAAC,aAAA,CAACzB,MAAM;IAAC0B,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,gBAC5B,CACH,CAAC,gBAENP,KAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAClBzB,MAAM,CAAC4B,GAAG,CAAEX,KAAK,iBAChBC,KAAA,CAAAC,aAAA,CAAC1B,SAAS;IAACoC,GAAG,EAAEZ,KAAK,CAACL,EAAG;IAACK,KAAK,EAAEA,KAAM;IAACa,QAAQ,EAAEnB,YAAa;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAnC,YAAA;MAAAoC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAClE,CACE,CAEJ,CAAC;AAEV,CAAC;AAED,eAAe1B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}